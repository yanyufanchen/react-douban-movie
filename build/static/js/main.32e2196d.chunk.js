(this.webpackJsonpinit=this.webpackJsonpinit||[]).push([[0],{160:function(e,t,a){e.exports={banner:"about_banner__2XrTT"}},165:function(e,t,a){e.exports=a(277)},170:function(e,t,a){},20:function(e,t,a){e.exports={lunbo:"home_lunbo__1CjlH",mlist:"home_mlist__8Qk5m",mibox:"home_mibox__19_eM",mitem:"home_mitem__13LoW",imgbox:"home_imgbox__330Bh"}},277:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),l=a.n(r),s=(a(170),a(25)),o=a(26),c=a(28),m=a(27),u=a(29),h=a(34),p=a(51),g=a(281),d=a(286),b=a(93),v=a.n(b),E=a(18),y=a.n(E),f=a(39),k=a(20),x=a.n(k),_=a(117),j=a(71),w=a(33),O=a(289),N=a(282),L="1",C=_.a.TabPane,S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={apikey:"0b2bdeda43b5688921839c8ecb20399b",topList:[],paihangbangList1:[],paihangbangtitle1:"",paihangbangList2:[],paihangbangtitle2:"",paihangbangList3:[],paihangbangtitle3:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this,i.a.createElement(j.a,{style:{height:"100%"}},i.a.createElement(w.a,{span:18,style:{paddingLeft:"0.3rem",height:"100%"}},i.a.createElement("div",{style:{borderRight:"1px solid #eee"}},i.a.createElement(_.a,{defaultActiveKey:L,onChange:this.HomeTab},i.a.createElement(C,{tab:this.state.paihangbangtitle1,key:"1"},i.a.createElement("div",{className:x.a.lunbo,style:{width:"100%",marginRight:"10px"}},i.a.createElement("div",{className:x.a.mlist},this.state.paihangbangList1.map((function(t){return i.a.createElement("div",{className:x.a.mibox},i.a.createElement("div",{onClick:function(){return e.toDetail(t.subject.id)},key:t.rank,className:x.a.mitem},i.a.createElement("div",{className:x.a.imgbox},i.a.createElement("img",{src:t.subject.images.small,alt:""})),i.a.createElement("div",{style:{textAlign:"center",height:"30px",lineHeight:"30px",overflow:"hidden"}},i.a.createElement("span",{style:{fontSize:"15px",marginRight:"10px",width:"1rem"}},t.subject.title),i.a.createElement("span",{style:{fontSize:"15px",color:"#E19015"}},t.subject.rating.average))))}))))),i.a.createElement(C,{tab:this.state.paihangbangtitle2,key:"2"},i.a.createElement("div",{className:x.a.lunbo,style:{width:"100%",marginRight:"10px"}},i.a.createElement("div",{className:x.a.mlist},this.state.paihangbangList2.map((function(t){return i.a.createElement("div",{className:x.a.mibox},i.a.createElement("div",{onClick:function(){return e.toDetail(t.subject.id)},key:t.rank,className:x.a.mitem},i.a.createElement("img",{src:t.subject.images.small,alt:""}),i.a.createElement("div",{style:{textAlign:"center",height:"0.3rem",lineHeight:"0.3rem",overflow:"hidden"}},i.a.createElement("span",{style:{fontSize:"15px",marginRight:"0.1rem",width:"1rem"}},t.subject.title),i.a.createElement("span",{style:{fontSize:"15px",color:"#E19015"}},t.subject.rating.average))))}))))),i.a.createElement(C,{tab:this.state.paihangbangtitle3,key:"3"},i.a.createElement("div",{className:x.a.lunbo,style:{width:"100%",marginRight:"10px"}},i.a.createElement("div",{className:x.a.mlist},this.state.paihangbangList3.map((function(t,a){return i.a.createElement("div",{className:x.a.mibox},i.a.createElement("div",{onClick:function(){return e.toDetail(t.id)},key:t.id,className:x.a.mitem},i.a.createElement("img",{src:t.images.small,alt:""}),i.a.createElement("div",{style:{textAlign:"center",height:"30px",lineHeight:"30px",overflow:"hidden"}},i.a.createElement("span",{style:{fontSize:"15px",marginRight:"10px",width:"100px"}},t.title),i.a.createElement("span",{style:{fontSize:"15px",color:"#E19015"}},t.rating.average))))})))))))),i.a.createElement(w.a,{span:6,style:{padding:"0.1rem 0.3rem 0.3rem 0.2rem",height:"100%"}},i.a.createElement("h3",{style:{marginBottom:16,fontWeight:520}},"\u8bc4\u5206\u6392\u884c\u699c"),i.a.createElement(O.a,{footer:i.a.createElement("div",null,"\u67e5\u770b\u66f4\u591a"),bordered:!0,dataSource:this.state.topList,renderItem:function(t){return i.a.createElement(O.a.Item,{onClick:function(){return e.toDetail(t.id)},style:{cursor:"pointer"}},i.a.createElement(N.a.Text,{mark:!0},"[Top]")," ",t.title)}})))}},{key:"componentDidMount",value:function(){this.getTopList(),this.getpaihangbang1(),this.getpaihangbang2(),this.getpaihangbang3()}},{key:"HomeTab",value:function(e){console.log(e),console.log(111),L=e,console.log(L)}},{key:"getTopList",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http(this.baseURL+"/v2/movie/top250?apikey="+this.state.apikey+"&start=0&count=10");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a,"\u6570\u636e"),a){e.next=9;break}return e.abrupt("return");case 9:this.setState({topList:a.subjects});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getpaihangbang1",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http(this.baseURL+"/v2/movie/weekly?apikey="+this.state.apikey);case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a,"\u6570\u636e1"),a){e.next=9;break}return e.abrupt("return");case 9:this.setState({paihangbangList1:a.subjects,paihangbangtitle1:a.title});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getpaihangbang2",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http(this.baseURL+"/v2/movie/us_box?apikey="+this.state.apikey);case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a,"\u6570\u636e2"),a){e.next=9;break}return e.abrupt("return");case 9:this.setState({paihangbangList2:a.subjects,paihangbangtitle2:a.title});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getpaihangbang3",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http(this.baseURL+"/v2/movie/new_movies?apikey="+this.state.apikey);case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a,"\u6570\u636e3"),a){e.next=9;break}return e.abrupt("return");case 9:this.setState({paihangbangList3:a.subjects,paihangbangtitle3:a.title});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toDetail",value:function(e){console.log(e,"id"),this.props.history.push("/movie/detail/"+e)}}]),t}(i.a.Component),R=a(290),I=a(149),z=a(285),D=a(162),H=a(61),T=a.n(H),M=R.a.Meta,A=function(e){function t(e){var a;return Object(s.a)(this,t),console.log(e.match.params,"\u4f20\u53c2"),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={apikey:"0b2bdeda43b5688921839c8ecb20399b",type:e.match.params.type,count:10,page:e.match.params.page,isloading:!0,movieList:[],total:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{backgroundColor:"#fff"}},this.state.isloading?i.a.createElement("div",{className:T.a.example},i.a.createElement(I.a,{size:"large"})):i.a.createElement("div",{style:{backgroundColor:"#fff"}},i.a.createElement("div",{className:T.a.mlist},this.state.movieList.map((function(t){return i.a.createElement("div",{className:T.a.mibox},i.a.createElement("div",{className:T.a.mitem,key:t.id,onClick:function(){return e.toDetail(t.id)}},i.a.createElement(R.a,{bodyStyle:{padding:"10px"},hoverable:!0,cover:i.a.createElement("img",{alt:"example",src:t.images.small})},i.a.createElement(M,{title:t.title,style:{padding:"1px"}}),i.a.createElement("p",{style:{fontSize:"12px",margin:"5px"}},"\u7535\u5f71\u7c7b\u578b\uff1a",t.genres.join(",")),i.a.createElement(z.a,{className:T.a.rate,disabled:!0,defaultValue:t.rating.average/2}))))}))),i.a.createElement("div",{className:T.a.fenye},i.a.createElement(D.a,{style:{display:"inline-block"},current:parseInt(this.state.page),defaultPageSize:this.state.count,total:this.state.total,onChange:function(t,a){return e.pageChange(t,a)}}))))}},{key:"componentDidMount",value:function(){console.log("\u6302\u8f7d"),this.getMovieList()}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e.match.params,"\u4f20\u53c22"),this.setState({start:(e.match.params.page-1)*this.state.count,type:e.match.params.type,page:e.match.params.page},(function(){t.getMovieList()})),console.log("\u66f4\u65b0")}},{key:"getMovieList",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.state.type,"\u7c7b\u578b"),t=(this.state.page-1)*this.state.count,e.next=4,this.$http(this.baseURL+"/v2/movie/"+this.state.type+"?apikey="+this.state.apikey+"&start="+t+"&count="+this.state.count);case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,console.log(n,"\u6570\u636e"),n){e.next=11;break}return e.abrupt("return");case 11:this.setState({isloading:!1,movieList:n.subjects,total:n.total});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pageChange",value:function(e,t){console.log(e,t),this.props.history.push("/movie/"+this.state.type+"/"+e)}},{key:"toDetail",value:function(e){console.log(e,"id"),this.props.history.push("/movie/detail/"+e)}}]),t}(i.a.Component),$=a(41),U=a.n($),W=a(280),B=a(287),P=a(288),K=a(284),V=N.a.Paragraph,q={width:"25%",textAlign:"center"},G=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),console.log(e.match.params,"id"),a.state={apikey:"0b2bdeda43b5688921839c8ecb20399b",data:{},isloading:!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data;return i.a.createElement("div",{style:{backgroundColor:"#fff"}},this.state.isloading?i.a.createElement("div",{className:U.a.example},i.a.createElement(I.a,{size:"large"})):i.a.createElement("div",{className:U.a.detail},i.a.createElement("div",{className:U.a.header},i.a.createElement("div",{className:U.a.button,onClick:function(){return e.goback()}},i.a.createElement(K.a,{className:"icon"}),i.a.createElement("span",null,"Go back"))),i.a.createElement(W.a,null),i.a.createElement("div",{className:U.a.centent},i.a.createElement("div",{className:U.a.centent_header},i.a.createElement("div",{className:U.a.title},t.title),i.a.createElement("img",{src:t.images.small,alt:""})),i.a.createElement("div",{className:U.a.synopsis},i.a.createElement(B.a,{title:"\u5f71\u7247\u7b80\u4ecb\uff1a"}),t.tags.map((function(e){return i.a.createElement(P.a,{key:e},e)})),i.a.createElement(V,{style:{marginTop:"10px"},ellipsis:{rows:3,expandable:!0}},t.summary)),i.a.createElement("div",null,i.a.createElement(B.a,{title:"\u5f71\u7247\u8be6\u60c5\uff1a",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},i.a.createElement(B.a.Item,{key:"1",label:"\u7c7b\u578b"},t.genres.join(",")),i.a.createElement(B.a.Item,{key:"2",label:"\u8bed\u8a00"},t.languages.join(",")),i.a.createElement(B.a.Item,{key:"3",label:"\u65f6\u957f"},t.durations.join(",")),i.a.createElement(B.a.Item,{key:"4",label:"\u4e0a\u6620\u5730"},t.pubdates.join(",")),i.a.createElement(B.a.Item,{key:"5",label:"\u4e0a\u6620\u65f6\u95f4"},t.pubdate),i.a.createElement(B.a.Item,{key:"6",label:"\u5176\u4ed6\u8bd1\u540d"},t.aka.join(",")))),i.a.createElement("div",null,i.a.createElement(R.a,{title:"\u6f14\u5458\u8868"},t.casts.map((function(e){return i.a.createElement(R.a.Grid,{key:e.id,style:q},e.avatars?i.a.createElement("img",{style:{width:"100px",height:"150px"},src:e.avatars.small,alt:""}):i.a.createElement("div",{style:{width:"100%",height:"150px",textAlign:"center",backgroundColor:"#eee",lineHeight:"150px"}},"\u6682\u65e0\u56fe\u7247"),i.a.createElement("h5",null,e.name_en),i.a.createElement("h5",null,e.name))}))),","),i.a.createElement("div",null,i.a.createElement(R.a,{title:"\u7535\u5f71\u8d44\u6e90"},t.videos.length>0?t.videos.map((function(e){return i.a.createElement("a",{href:e.sample_link,target:"_blank"},i.a.createElement(R.a.Grid,{key:e.video_id,style:q},i.a.createElement("h5",null,e.source.literal),i.a.createElement("h5",null,e.source.name),i.a.createElement("img",{style:{height:"50px"},src:e.source.pic,alt:""})))})):"\u6682\u65e0"),","))))}},{key:"componentDidMount",value:function(){this.getDetail()}},{key:"getDetail",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(111),e.next=3,this.$http(this.baseURL+"/v2/movie/subject/"+this.props.match.params.id+"?apikey="+this.state.apikey);case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,console.log(a,"\u6570\u636e"),a){e.next=10;break}return e.abrupt("return");case 10:this.setState({data:a,isloading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goback",value:function(){this.props.history.goBack()}}]),t}(i.a.Component),Q=(d.a.SubMenu,g.a.Header,g.a.Content),F=g.a.Sider,J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(g.a,{style:{height:"100%"}},i.a.createElement(F,{width:190,className:"site-layout-background",style:{borderRight:"1px solid #efefef"}},i.a.createElement(d.a,{mode:"inline",defaultSelectedKeys:["in_theaters"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},i.a.createElement(d.a.Item,{key:"in_theaters"},i.a.createElement(h.b,{to:"/movie/in_theaters/1"},"\u6b63\u5728\u70ed\u6620")),i.a.createElement(d.a.Item,{key:"coming_soon"},i.a.createElement(h.b,{to:"/movie/coming_soon/1"},"\u5373\u5c06\u4e0a\u6620")),i.a.createElement(d.a.Item,{key:"3"},i.a.createElement(h.b,{to:"/movie/top250/1"},"Top250")))),i.a.createElement(g.a,null,i.a.createElement(Q,{className:"site-layout-background",style:{backgroundColor:"#fff"}},i.a.createElement(p.b,{path:"/movie/",render:function(){return i.a.createElement(p.a,{to:"/movie/in_theaters/1"})}}),i.a.createElement(p.d,null,i.a.createElement(p.b,{exact:!0,path:"/movie/detail/:id",component:G}),i.a.createElement(p.b,{exact:!0,path:"/movie/:type/:page",component:A})))))}}]),t}(i.a.Component),X=a(283),Y=a(160),Z=a.n(Y),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{height:"100%"}},i.a.createElement("div",{className:Z.a.banner},i.a.createElement("h1",null,"\u5173\u4e8e\u6211\u4eec"),i.a.createElement("h3",null,"React \u8c46\u74e3\u7535\u5f71\u9879\u76ee\u5c55\u793a"),i.a.createElement("p",null,"\u672c\u7ad9\u8d44\u6e90\u6765\u6e90\u4e8e\u8c46\u74e3\u7535\u5f71,\u53ea\u505a\u5206\u4eab\u5c55\u793a\uff0c\u4e0d\u63d0\u4f9b\u5f71\u7247\u8d44\u6e90\u5b58\u50a8"),i.a.createElement("p",null,"\u6709\u4efb\u4f55\u7248\u6743\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb592394158@qq.com\u90ae\u7bb1\u6765\u4fe1\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u5904\u7406")),i.a.createElement(X.a,null))}}]),t}(n.Component),te=g.a.Header,ae=g.a.Content,ne=g.a.Footer,ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={key:window.location.hash.split("/")[1]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(h.a,null,i.a.createElement(g.a,{className:v.a.layout},i.a.createElement(te,null,i.a.createElement("div",{className:v.a.logo}),i.a.createElement(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[window.location.hash.split("/")[1]||"home"],style:{lineHeight:"64px"}},i.a.createElement(d.a.Item,{key:"home"},i.a.createElement(h.b,{to:"/home"},"\u9996\u9875")),i.a.createElement(d.a.Item,{key:"movie"},i.a.createElement(h.b,{to:"/movie"},"\u7535\u5f71")),i.a.createElement(d.a.Item,{key:"about"},i.a.createElement(h.b,{to:"/about"},"\u5173\u4e8e")))),i.a.createElement(ae,null,i.a.createElement("div",{className:v.a.content},i.a.createElement(p.d,null,i.a.createElement(p.b,{exact:!0,path:"/",render:function(){return i.a.createElement(p.a,{to:"/home"})}}),i.a.createElement(p.b,{path:"/home",component:S}),i.a.createElement(p.b,{exact:!0,path:"/movie/detail/:id",component:G}),i.a.createElement(p.b,{path:"/movie",component:J}),i.a.createElement(p.b,{path:"/about",component:ee})))),i.a.createElement(ne,{style:{textAlign:"center"}},"\u8c46\u74e3\u7535\u5f71 \xa9",(new Date).getFullYear()," Created by Peng Wang")))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(276);var re=a(161),le=a.n(re);i.a.Component.prototype.baseURL="https://api.douban.com",i.a.Component.prototype.$http=le.a,l.a.render(i.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){e.exports={example:"moviedetail_example__8VPl1",detail:"moviedetail_detail__1ZOyi",header:"moviedetail_header__1XhVC",button:"moviedetail_button__15mzf",centent:"moviedetail_centent__12M40",centent_header:"moviedetail_centent_header__o1ABg",title:"moviedetail_title__2b_h0",synopsis:"moviedetail_synopsis__2382Q"}},61:function(e,t,a){e.exports={example:"movielist_example__1O8f-",mlist:"movielist_mlist__2cx3Q",mibox:"movielist_mibox__2x3tV",mitem:"movielist_mitem__3nbIh",rate:"movielist_rate__4h4tn",fenye:"movielist_fenye__3yqDH"}},93:function(e,t,a){e.exports={content:"app_content__3lY_z",logo:"app_logo__2pOzW"}}},[[165,1,2]]]);
//# sourceMappingURL=main.32e2196d.chunk.js.map